<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penaltı - CapyOS</title>
    <style>
        :root { --ios-blue: #007aff; --ios-bg: #000; --card-bg: #1c1c1e; --text: #fff; }
        body { font-family: -apple-system, sans-serif; background: var(--ios-bg); color: var(--text); margin: 0; padding-bottom: 80px; }
        
        .header { padding: 50px 20px 10px; background: #000; border-bottom: 0.5px solid #333; }
        h1 { margin: 0; font-size: 32px; letter-spacing: -1px; }

        .match-container { padding: 15px; }

        /* Maç Kartı */
        .match-card {
            background: var(--card-bg);
            border-radius: 18px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .match-summary {
            padding: 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            cursor: pointer;
        }

        .team { text-align: center; width: 35%; }
        .team img { width: 45px; height: 45px; margin-bottom: 8px; }
        .team span { display: block; font-size: 14px; font-weight: 500; }
        
        .score-area { text-align: center; }
        .score-val { font-size: 28px; font-weight: 800; color: #34c759; }
        .live-tag { font-size: 10px; background: #ff3b30; padding: 2px 6px; border-radius: 4px; animation: blink 1s infinite; }

        /* Ayrıntılar Bölümü (Başlangıçta Gizli) */
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: #2c2c2e;
            padding: 0 20px;
        }

        .details.open {
            max-height: 300px;
            padding: 20px;
            border-top: 0.5px solid #3d3d41;
        }

        .detail-item { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 8px; color: #8e8e93; }
        
        .selcuk-btn {
            display: block;
            background: var(--ios-blue);
            color: white;
            text-align: center;
            padding: 12px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 15px;
        }

        @keyframes blink { 0% {opacity: 1} 50% {opacity: 0.4} 100% {opacity: 1} }
    </style>
</head>
<body>

<div class="header">
    <h1>Penaltı</h1>
    <div style="color: #8e8e93; font-size: 14px;">Canlı Maç Detayları</div>
</div>

<div class="match-container" id="matchList">
    <div class="match-card">
        <div class="match-summary" onclick="toggleDetails(this)">
            <div class="team">
                <img src="https://www.google.com/s2/favicons?domain=galatasaray.org&sz=64">
                <span>Galatasaray</span>
            </div>
            <div class="score-area">
                <div class="live-tag">CANLI</div>
                <div class="score-val">2 - 1</div>
            </div>
            <div class="team">
                <img src="https://www.google.com/s2/favicons?domain=fenerbahce.org&sz=64">
                <span>Fenerbahçe</span>
            </div>
        </div>
        <div class="details">
            <div class="detail-item"><span>Topla Oynama:</span> <span>%54 - %46</span></div>
            <div class="detail-item"><span>Şut:</span> <span>12 - 8</span></div>
            <div class="detail-item"><span>Dakika:</span> <span>74'</span></div>
            <a href="https://www.google.com/search?q=selcuksports+izle" target="_blank" class="selcuk-btn">Selçuksports'ta İzle</a>
        </div>
    </div>
</div>

<script>
    // Detayları aç/kapat
    function toggleDetails(element) {
        const details = element.nextElementSibling;
        details.classList.toggle('open');
    }

    // Google'dan gerçekten "CANLI" olanları çekmeye çalışan fonksiyon
    async function loadRealLiveMatches() {
        const container = document.getElementById('matchList');
        // Bu sefer sadece son 24 saatteki çok taze haberleri ve canlı skorları hedefliyoruz
        const feedUrl = "https://news.google.com/rss/search?q=canli+mac+sonuclari+skor+izle&hl=tr&gl=TR&ceid=TR:tr";
        const proxyUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(feedUrl)}`;

        try {
            const res = await fetch(proxyUrl);
            const data = await res.json();
            container.innerHTML = ''; // Temizle

            data.items.slice(0, 10).forEach(item => {
                // Sadece başlığında "Canlı" geçenleri veya skor içerenleri alarak geçmiş maçları eliyoruz
                if (item.title.includes("Canlı") || item.title.includes("-")) {
                    const titleParts = item.title.split('-')[0].split('vs');
                    const team1 = titleParts[0] || "Takım A";
                    const team2 = titleParts[1] || "Takım B";
                    
                    container.innerHTML += `
                        <div class="match-card">
                            <div class="match-summary" onclick="toggleDetails(this)">
                                <div class="team">
                                    <img src="https://www.google.com/s2/favicons?domain=google.com&sz=64">
                                    <span>${team1.substring(0, 15)}</span>
                                </div>
                                <div class="score-area">
                                    <div class="live-tag">CANLI</div>
                                    <div class="score-val">VS</div>
                                </div>
                                <div class="team">
                                    <img src="https://www.google.com/s2/favicons?domain=google.com&sz=64">
                                    <span>${team2.substring(0, 15)}</span>
                                </div>
                            </div>
                            <div class="details">
                                <div class="detail-item"><span>Maç Durumu:</span> <span>Oynanıyor / Yeni</span></div>
                                <div class="detail-item"><span>Kaynak:</span> <span>Google Spor</span></div>
                                <a href="https://www.google.com/search?q=${team1}+${team2}+selcuksports+izle" target="_blank" class="selcuk-btn">Selçuksports Linklerini Gör</a>
                            </div>
                        </div>
                    `;
                }
            });
        } catch (e) {
            container.innerHTML = "Maçlar yüklenemedi, kanka.";
        }
    }

    loadRealLiveMatches();
</script>

</body>
</html>
